N = 25000;
n = 0:1:N-1;
Fs = 10000;
W1 = 50;
W2 = 10;
M1 = floor(N/W1);
M2 = floor(N/W2);
x = cos((2*pi*n.*n)/(100000));
un1 = [ones(1,W1) zeros(1,N-W1)];
un2 = [ones(1,W2) zeros(1,N-W2)];
h1 = cos((pi/4)*n) + cos((pi/2)*n);
h2 = cos((pi/2)*n) + cos((3*pi/4)*n);
w1 = 0.5*(1- cos(2*pi*n/W1)).*un1;
w2 = 0.5*(1- cos(2*pi*n/W2)).*un2;
g1 = h1.*w1;
g2 = h2.*w2;
g3 = [g2(1:10)'; zeros(7000,1); g1(1:50)';zeros(length(x)-7060,1);];
g3 = g3';
z3 = ifft(fft(x).*fft(g3));
[y3, z3STFT, y3STFT] = stft_func(z3, 50);
imagesc((0:(M1-1))*W1/Fs, (0:(W1-1))/W1, abs(z3STFT));
xlabel('Time [seconds]'); 
ylabel('Frequency [Hertz]');
soundsc(z3);